# 2048



## 1 项目背景

该项目为同济大学软件学院2023年程序设计范式课程设计项目，选题为2048小游戏。

选题要求：

1. 得分权值：0.7
2. 团队人数限制：<=1
3. 实现一个2048小游戏。需要达成的基础功能：
   - 基础⽅块：2和4，随机出现在棋盘上的空位。
   - 合成规则：相同数字的⽅块在滑动时若相撞则合成⼀个新的⽅块，数值为原⽅块之和。
   - 权值计算：每合成⼀个新数字，玩家得分为新⽅块的数字值。
   - 背景⾳乐：⽀持背景⾳乐，以营造舒适的游戏氛围
   - 基本界⾯：包含开始界⾯、暂停及恢复功能、退出功能
   - 排⾏榜：⽀持本地排⾏榜
   - ⾳效：⽅块合成时提供⾳效



## 2 开发环境

- 操作系统：Windows
- IDE：          Visual Studio 17 2022
- 游戏引擎：Cocos2dx-3.17,2
- 开发语言：C++
- 测试环境：Windows



## 3 如何运行

可执行文件：解压2048.exe,打开2048文件夹，运行2048.exe

源代码：将文件夹classes，resources导入新项目，**resources要导入到build/bin/2048/debug下**，加载资源时使用了fullPathForFilename()函数，此函数只能识别build/bin/2048/debug/resources中的文件



## 4 项目文件

| 文件（夹） |       说明       |
| :--------: | :--------------: |
|  Classes   | 游戏主要的类代码 |
| Resources  |  图片音乐等资源  |



## 5 核心功能及实现

### 5.1 鼠标和键盘操作

建立鼠标和键盘监听，鼠标实现对各个按钮的操作，键盘方向键实现不同方向滑动数字

### 5.2 数字卡片的的创建和生成

创建4X4的卡片布局

### 5.3 特殊数字卡片的合并

滑动数字卡片，可以实现相同数字的合并，游戏实现了额外4个、3个相同数字的合并

### 5.4 本地排行榜

使用xml文件储存并使用弹窗显示排行榜

### 5.5 保存及载入

使用xml文件实现了当前局面的保存和载入

### 5.5 方块合成时提供音效

方块合成时播放背景音乐，此功能取代了背景音乐功能

### 5.6 游戏结束弹窗

利用PopUp类实现了弹窗功能，在无法继续进行游戏或场上最大数字达到8192时弹出，此时游戏结束



## 6 类设计

|    类名     |       说明       |
| :---------: | :--------------: |
| AppDelegate |  cocos2d代理类   |
|  GameScene  | 进入游戏初始界面 |
|   PopOut    |      弹窗类      |
|    Card     |    数字卡片类    |



## 8 项目成员

| 段文涛 |      |
| :----: | ---- |



 

